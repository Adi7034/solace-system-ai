import { useState, useCallback } from 'react';

export type Language = 'en' | 'ml' | 'hi';

const translations = {
  // Header
  'app.name': {
    en: 'MindPhase-M',
    ml: 'เดฎเตเตปเดกเตเดซเตเดธเต-M',
    hi: 'เคฎเคพเคเคเคกเคซเฅเคเคผ-M',
  },
  'app.tagline': {
    en: 'Your mental wellness companion ๐',
    ml: 'เดจเดฟเดเตเดเดณเตเดเต เดฎเดพเดจเดธเดฟเด เดเดฐเตเดเตเดฏ เดธเดนเดพเดฏเดฟ ๐',
    hi: 'เคเคชเคเคพ เคฎเคพเคจเคธเคฟเค เคธเฅเคตเคพเคธเฅเคฅเฅเคฏ เคธเคพเคฅเฅ ๐',
  },
  'nav.cycleTracker': {
    en: 'Cycle Tracker',
    ml: 'เดธเตเดเตเดเดฟเตพ เดเตเดฐเดพเดเตเดเตผ',
    hi: 'เคธเคพเคเคเคฟเคฒ เคเฅเคฐเฅเคเคฐ',
  },
  'nav.clearChat': {
    en: 'Clear chat',
    ml: 'เดเดพเดฑเตเดฑเต เดฎเดพเดฏเตเดเตเดเตเด',
    hi: 'เคเฅเค เคธเคพเคซเคผ เคเคฐเฅเค',
  },
  'nav.signOut': {
    en: 'Sign out',
    ml: 'เดธเตเตป เดเดเตเดเต',
    hi: 'เคธเคพเคเคจ เคเคเค',
  },
  'nav.seeYou': {
    en: 'See you soon! ๐',
    ml: 'เดตเตเดฃเตเดเตเด เดเดพเดฃเดพเด! ๐',
    hi: 'เคซเคฟเคฐ เคฎเคฟเคฒเฅเคเคเฅ! ๐',
  },

  // Chat
  'chat.placeholder': {
    en: 'Share what\'s on your mind...',
    ml: 'เดจเดฟเดเตเดเดณเตเดเต เดฎเดจเดธเตเดธเดฟเดฒเตเดณเตเดณเดคเต เดชเดเตเดเตเดตเดฏเตเดเตเดเต...',
    hi: 'เคเคชเคจเฅ เคฎเคจ เคเฅ เคฌเคพเคค เคธเคพเคเคพ เคเคฐเฅเค...',
  },
  'chat.welcome': {
    en: "Hey! I'm MindPhase-M, your mental wellness companion ๐ I'm here to listen, support, and be there for you. How are you feeling today?",
    ml: "เดนเดพเดฏเต! เดเดพเตป เดฎเตเตปเดกเตเดซเตเดธเต-M, เดจเดฟเดเตเดเดณเตเดเต เดฎเดพเดจเดธเดฟเด เดเดฐเตเดเตเดฏ เดธเดนเดพเดฏเดฟ ๐ เดเตเตพเดเตเดเดพเดจเตเด เดชเดฟเดจเตเดคเตเดฃเดฏเตเดเตเดเดพเดจเตเด เดเดพเตป เดเดตเดฟเดเตเดฏเตเดฃเตเดเต. เดเดจเตเดจเต เดจเดฟเดเตเดเตพเดเตเดเต เดเดเตเดเดจเต เดคเตเดจเตเดจเตเดจเตเดจเต?",
    hi: "เคนเคพเคฏ! เคฎเฅเค เคฎเคพเคเคเคกเคซเฅเคเคผ-M เคนเฅเค, เคเคชเคเคพ เคฎเคพเคจเคธเคฟเค เคธเฅเคตเคพเคธเฅเคฅเฅเคฏ เคธเคพเคฅเฅ ๐ เคธเฅเคจเคจเฅ เคเคฐ เคธเคพเคฅ เคฆเฅเคจเฅ เคเฅ เคฒเคฟเค เคฏเคนเคพเค เคนเฅเคเฅค เคเค เคเคช เคเฅเคธเคพ เคฎเคนเคธเฅเคธ เคเคฐ เคฐเคนเฅ เคนเฅเค?",
  },

  // Quick Actions
  'action.breathing': {
    en: 'Breathing Exercise',
    ml: 'เดถเตเดตเดธเดจ เดตเตเดฏเดพเดฏเดพเดฎเด',
    hi: 'เคธเคพเคเคธ เคเคพ เคตเฅเคฏเคพเคฏเคพเคฎ',
  },
  'action.breathing.msg': {
    en: "I'd like to do a breathing exercise to calm down",
    ml: 'เดถเดพเดจเตเดคเดฎเดพเดเดพเตป เดถเตเดตเดธเดจ เดตเตเดฏเดพเดฏเดพเดฎเด เดเตเดฏเตเดฏเดฃเด',
    hi: 'เคถเคพเคเคค เคนเฅเคจเฅ เคเฅ เคฒเคฟเค เคธเคพเคเคธ เคเคพ เคตเฅเคฏเคพเคฏเคพเคฎ เคเคฐเคจเคพ เคนเฅ',
  },
  'action.stress': {
    en: 'Stress Relief',
    ml: 'เดธเตเดเตเดฐเตเดธเต เดฑเดฟเดฒเตเดซเต',
    hi: 'เคคเคจเคพเคต เคฎเฅเคเฅเคคเคฟ',
  },
  'action.stress.msg': {
    en: "I'm feeling stressed and need some support",
    ml: 'เดเดจเดฟเดเตเดเต เดธเตเดเตเดฐเตเดธเต เดคเตเดจเตเดจเตเดจเตเดจเต, เดธเดนเดพเดฏเด เดตเตเดฃเด',
    hi: 'เคฎเฅเคเฅ เคคเคจเคพเคต เคฎเคนเคธเฅเคธ เคนเฅ เคฐเคนเคพ เคนเฅ, เคฎเคฆเคฆ เคเคพเคนเคฟเค',
  },
  'action.period': {
    en: 'Period Care',
    ml: 'เดชเตเดฐเดฟเดฏเดกเต เดเตเดฏเตผ',
    hi: 'เคชเฅเคฐเคฟเคฏเคก เคเฅเคฏเคฐ',
  },
  'action.period.msg': {
    en: "I'm on my period and need some comfort tips",
    ml: 'เดเดจเดฟเดเตเดเต เดชเตเดฐเดฟเดฏเดกเต เดเดฃเต, เดเดฟเดฒ เดเดฟเดชเตเดธเต เดตเตเดฃเด',
    hi: 'เคฎเฅเคเฅ เคชเฅเคฐเคฟเคฏเคกเฅเคธ เคนเฅเค, เคเฅเค เคเคฟเคชเฅเคธ เคเคพเคนเคฟเค',
  },
  'action.talk': {
    en: 'Just Talk',
    ml: 'เดธเดเดธเดพเดฐเดฟเดเตเดเดพเด',
    hi: 'เคฌเคธ เคฌเคพเคค เคเคฐเฅ',
  },
  'action.talk.msg': {
    en: 'I just need someone to listen right now',
    ml: 'เดเดชเตเดชเตเตพ เดเดฐเตเดเตเดเดฟเดฒเตเด เดเตเตพเดเตเดเดฃเด',
    hi: 'เคเคญเฅ เคเคฟเคธเฅ เคเฅ เคธเฅเคจเคจเฅ เคเฅ เคเคฐเฅเคฐเคค เคนเฅ',
  },

  // Period Tracker
  'tracker.title': {
    en: 'Period Tracker',
    ml: 'เดชเตเดฐเดฟเดฏเดกเต เดเตเดฐเดพเดเตเดเตผ',
    hi: 'เคชเฅเคฐเคฟเคฏเคก เคเฅเคฐเฅเคเคฐ',
  },
  'tracker.subtitle': {
    en: 'Track your cycle with care',
    ml: 'เดถเตเดฐเดฆเตเดงเดฏเตเดเต เดเตเดฐเดพเดเตเดเต เดเตเดฏเตเดฏเต',
    hi: 'เคเคชเคจเฅ เคธเคพเคเคเคฟเคฒ เคเฅ เคเฅเคฐเฅเค เคเคฐเฅเค',
  },
  'tracker.flow': {
    en: 'Flow',
    ml: 'เดซเตเดฒเต',
    hi: 'เคซเฅเคฒเฅ',
  },
  'tracker.mood': {
    en: 'Mood',
    ml: 'เดฎเตเดกเต',
    hi: 'เคฎเฅเคก',
  },
  'tracker.symptoms': {
    en: 'Symptoms',
    ml: 'เดฒเดเตเดทเดฃเดเตเดเตพ',
    hi: 'เคฒเคเฅเคทเคฃ',
  },
  'tracker.recentLogs': {
    en: 'Recent Logs',
    ml: 'เดธเดฎเตเดชเดคเตเดคเต เดฒเตเดเตเดเตพ',
    hi: 'เคนเคพเคฒ เคเฅ เคฒเฅเค',
  },

  // Log Entry Form
  'form.flowIntensity': {
    en: 'Flow Intensity',
    ml: 'เดซเตเดฒเต เดคเตเดตเตเดฐเดค',
    hi: 'เคซเฅเคฒเฅ เคเฅ เคคเฅเคตเฅเคฐเคคเคพ',
  },
  'form.spotting': {
    en: 'Spotting',
    ml: 'เดธเตเดชเตเดเตเดเดฟเดเดเต',
    hi: 'เคธเฅเคชเฅเคเคฟเคเค',
  },
  'form.light': {
    en: 'Light',
    ml: 'เดฒเตเดฑเตเดฑเต',
    hi: 'เคนเคฒเฅเคเคพ',
  },
  'form.medium': {
    en: 'Medium',
    ml: 'เดฎเตเดกเดฟเดฏเด',
    hi: 'เคฎเคงเฅเคฏเคฎ',
  },
  'form.heavy': {
    en: 'Heavy',
    ml: 'เดนเตเดตเดฟ',
    hi: 'เคญเคพเคฐเฅ',
  },
  'form.howFeeling': {
    en: 'How are you feeling?',
    ml: 'เดจเดฟเดเตเดเตพเดเตเดเต เดเดเตเดเดจเต เดคเตเดจเตเดจเตเดจเตเดจเต?',
    hi: 'เคเคช เคเฅเคธเคพ เคฎเคนเคธเฅเคธ เคเคฐ เคฐเคนเฅ เคนเฅเค?',
  },
  'form.anySymptoms': {
    en: 'Any symptoms?',
    ml: 'เดเดจเตเดคเตเดเตเดเดฟเดฒเตเด เดฒเดเตเดทเดฃเดเตเดเตพ?',
    hi: 'เคเฅเค เคฒเคเฅเคทเคฃ?',
  },
  'form.notes': {
    en: 'Notes',
    ml: 'เดเตเดฑเดฟเดชเตเดชเตเดเตพ',
    hi: 'เคจเฅเคเฅเคธ',
  },
  'form.notesPlaceholder': {
    en: "How's your day going? Any thoughts to capture...",
    ml: 'เดจเดฟเดเตเดเดณเตเดเต เดฆเดฟเดตเดธเด เดเดเตเดเดจเตเดฏเตเดฃเตเดเต? เดเดจเตเดคเตเดเตเดเดฟเดฒเตเด เดเตเดฑเดฟเดเตเดเดพเตป...',
    hi: 'เคเคชเคเคพ เคฆเคฟเคจ เคเฅเคธเคพ เคนเฅ? เคเฅเค เคฒเคฟเคเคจเคพ เคนเฅ...',
  },
  'form.save': {
    en: 'Save Entry ๐',
    ml: 'เดธเตเดตเต เดเตเดฏเตเดฏเตเด ๐',
    hi: 'เคธเฅเคต เคเคฐเฅเค ๐',
  },

  // Cycle Prediction
  'prediction.title': {
    en: 'Cycle Prediction',
    ml: 'เดธเตเดเตเดเดฟเตพ เดชเตเดฐเดตเดเดจเด',
    hi: 'เคธเคพเคเคเคฟเคฒ เคเคจเฅเคฎเคพเคจ',
  },
  'prediction.trackMore': {
    en: 'Track 2+ periods to see predictions',
    ml: 'เดชเตเดฐเดตเดเดจเดเตเดเตพ เดเดพเดฃเดพเตป 2+ เดชเตเดฐเดฟเดฏเดกเต เดเตเดฐเดพเดเตเดเต เดเตเดฏเตเดฏเตเด',
    hi: 'เคเคจเฅเคฎเคพเคจ เคเฅ เคฒเคฟเค 2+ เคชเฅเคฐเคฟเคฏเคก เคเฅเคฐเฅเค เคเคฐเฅเค',
  },
  'prediction.logPeriod': {
    en: "Log your period days and I'll learn your cycle to predict your next period! ๐",
    ml: 'เดจเดฟเดเตเดเดณเตเดเต เดชเตเดฐเดฟเดฏเดกเต เดฆเดฟเดตเดธเดเตเดเตพ เดฒเตเดเต เดเตเดฏเตเดฏเต, เดเดพเตป เดชเดเดฟเดเตเดเตเด! ๐',
    hi: 'เคเคชเคจเฅ เคชเฅเคฐเคฟเคฏเคก เคฒเฅเค เคเคฐเฅเค, เคฎเฅเค เคธเฅเค เคฒเฅเคเคเฅ! ๐',
  },
  'prediction.basedOn': {
    en: 'Based on {count} cycles',
    ml: '{count} เดธเตเดเตเดเดฟเดณเตเดเดณเตเดเต เดเดเดฟเดธเตเดฅเดพเดจเดคเตเดคเดฟเตฝ',
    hi: '{count} เคธเคพเคเคเคฟเคฒ เคเฅ เคเคงเคพเคฐ เคชเคฐ',
  },
  'prediction.nextPeriod': {
    en: 'Next Period',
    ml: 'เดเดเตเดคเตเดค เดชเตเดฐเดฟเดฏเดกเต',
    hi: 'เคเคเคฒเคพ เคชเฅเคฐเคฟเคฏเคก',
  },
  'prediction.today': {
    en: 'Today!',
    ml: 'เดเดจเตเดจเต!',
    hi: 'เคเค!',
  },
  'prediction.daysAgo': {
    en: '{count} days ago',
    ml: '{count} เดฆเดฟเดตเดธเด เดฎเตเดฎเตเดชเต',
    hi: '{count} เคฆเคฟเคจ เคชเคนเคฒเฅ',
  },
  'prediction.inDays': {
    en: 'in {count} days',
    ml: '{count} เดฆเดฟเดตเดธเดคเตเดคเดฟเตฝ',
    hi: '{count} เคฆเคฟเคจเฅเค เคฎเฅเค',
  },
  'prediction.avgCycle': {
    en: 'Avg Cycle',
    ml: 'เดถเดฐเดพเดถเดฐเดฟ เดธเตเดเตเดเดฟเตพ',
    hi: 'เคเคธเคค เคธเคพเคเคเคฟเคฒ',
  },
  'prediction.days': {
    en: '{count} days',
    ml: '{count} เดฆเดฟเดตเดธเด',
    hi: '{count} เคฆเคฟเคจ',
  },
  'prediction.yourAverage': {
    en: 'Your average',
    ml: 'เดจเดฟเดเตเดเดณเตเดเต เดถเดฐเดพเดถเดฐเดฟ',
    hi: 'เคเคชเคเคพ เคเคธเคค',
  },
  'prediction.expectedToday': {
    en: 'Period expected today! ๐ธ',
    ml: 'เดชเตเดฐเดฟเดฏเดกเต เดเดจเตเดจเต เดชเตเดฐเดคเตเดเตเดทเดฟเดเตเดเตเดจเตเดจเต! ๐ธ',
    hi: 'เคชเฅเคฐเคฟเคฏเคก เคเค เคเคจเฅ เคตเคพเคฒเคพ เคนเฅ! ๐ธ',
  },
  'prediction.comingIn': {
    en: 'Period coming in {count} day{s}! ๐ธ',
    ml: '{count} เดฆเดฟเดตเดธเดคเตเดคเดฟเตฝ เดชเตเดฐเดฟเดฏเดกเต เดตเดฐเตเด! ๐ธ',
    hi: '{count} เคฆเคฟเคจ เคฎเฅเค เคชเฅเคฐเคฟเคฏเคก เคเคเคเคพ! ๐ธ',
  },

  // Auth
  'auth.signIn': {
    en: 'Sign In',
    ml: 'เดธเตเตป เดเตป',
    hi: 'เคธเคพเคเคจ เคเคจ',
  },
  'auth.signUp': {
    en: 'Sign Up',
    ml: 'เดธเตเตป เดเดชเตเดชเต',
    hi: 'เคธเคพเคเคจ เคเคช',
  },
  'auth.email': {
    en: 'Email',
    ml: 'เดเดฎเตเดฏเดฟเตฝ',
    hi: 'เคเคฎเฅเคฒ',
  },
  'auth.password': {
    en: 'Password',
    ml: 'เดชเดพเดธเตโเดตเตเดกเต',
    hi: 'เคชเคพเคธเคตเคฐเฅเคก',
  },
  'auth.createAccount': {
    en: 'Create Account',
    ml: 'เดเดเตเดเตเดฃเตเดเต เดเดฃเตเดเดพเดเตเดเตเด',
    hi: 'เคเคเคพเคเคเค เคฌเคจเคพเคเค',
  },
  'auth.pleaseWait': {
    en: 'Please wait...',
    ml: 'เดเดพเดคเตเดคเดฟเดฐเดฟเดเตเดเต...',
    hi: 'เคเฅเคชเคฏเคพ เคชเฅเคฐเคคเฅเคเฅเคทเคพ เคเคฐเฅเค...',
  },
  'auth.welcomeBack': {
    en: 'Welcome back! ๐',
    ml: 'เดตเตเดฃเตเดเตเด เดธเตเดตเดพเดเดคเด! ๐',
    hi: 'เคตเคพเคชเคธ เคธเฅเคตเคพเคเคค เคนเฅ! ๐',
  },
  'auth.accountCreated': {
    en: 'Account created! Welcome to MindPhase-M ๐',
    ml: 'เดเดเตเดเตเดฃเตเดเต เดเดฃเตเดเดพเดเตเดเดฟ! เดฎเตเตปเดกเตเดซเตเดธเต-M เดฒเตเดเตเดเต เดธเตเดตเดพเดเดคเด ๐',
    hi: 'เคเคเคพเคเคเค เคฌเคจ เคเคฏเคพ! เคฎเคพเคเคเคกเคซเฅเคเคผ-M เคฎเฅเค เคธเฅเคตเคพเคเคค เคนเฅ ๐',
  },
  'auth.forgotPassword': {
    en: 'Forgot password?',
    ml: 'เดชเดพเดธเตโเดตเตเดกเต เดฎเดฑเดจเตเดจเต?',
    hi: 'เคชเคพเคธเคตเคฐเฅเคก เคญเฅเคฒ เคเค?',
  },
  'auth.resetPassword': {
    en: 'Reset Password',
    ml: 'เดชเดพเดธเตโเดตเตเดกเต เดฑเตเดธเตเดฑเตเดฑเต',
    hi: 'เคชเคพเคธเคตเคฐเฅเคก เคฐเฅเคธเฅเค',
  },
  'auth.resetEmailSent': {
    en: 'Password reset email sent! Check your inbox ๐',
    ml: 'เดชเดพเดธเตโเดตเตเดกเต เดฑเตเดธเตเดฑเตเดฑเต เดเดฎเตเดฏเดฟเตฝ เดเดฏเดเตเดเต! เดเตปเดฌเตเดเตเดธเต เดชเดฐเดฟเดถเตเดงเดฟเดเตเดเต ๐',
    hi: 'เคชเคพเคธเคตเคฐเฅเคก เคฐเฅเคธเฅเค เคเคฎเฅเคฒ เคญเฅเคเคพ เคเคฏเคพ! เคเคจเคฌเฅเคเฅเคธ เคเฅเค เคเคฐเฅเค ๐',
  },
  'auth.backToLogin': {
    en: 'Back to Login',
    ml: 'เดฒเตเดเดฟเดจเดฟเดฒเตเดเตเดเต เดฎเดเดเตเดเตเด',
    hi: 'เคฒเฅเคเคฟเคจ เคชเคฐ เคตเคพเคชเคธ',
  },
  'auth.wrongCredentials': {
    en: 'Wrong email or password',
    ml: 'เดคเตเดฑเตเดฑเดพเดฏ เดเดฎเตเดฏเดฟเตฝ เดเดฒเตเดฒเตเดเตเดเดฟเตฝ เดชเดพเดธเตโเดตเตเดกเต',
    hi: 'เคเคฒเคค เคเคฎเฅเคฒ เคฏเคพ เคชเคพเคธเคตเคฐเฅเคก',
  },
  'auth.alreadyRegistered': {
    en: 'This email is already registered. Try logging in!',
    ml: 'เด เดเดฎเตเดฏเดฟเตฝ เดเดคเดฟเดจเดเด เดฐเดเดฟเดธเตเดฑเตเดฑเตผ เดเตเดฏเตเดคเดฟเดเตเดเตเดฃเตเดเต. เดฒเตเดเดฟเตป เดเตเดฏเตเดฏเต!',
    hi: 'เคฏเคน เคเคฎเฅเคฒ เคชเคนเคฒเฅ เคธเฅ เคฐเคเคฟเคธเฅเคเคฐ เคนเฅเฅค เคฒเฅเคเคฟเคจ เคเคฐเฅเค!',
  },

  // Symptoms (keeping English as they are medical terms, but adding translations)
  'symptom.cramps': { en: 'Cramps', ml: 'เดเตเดฐเดพเดฎเตเดชเตเดธเต', hi: 'เคเคเคเคจ' },
  'symptom.headache': { en: 'Headache', ml: 'เดคเดฒเดตเตเดฆเดจ', hi: 'เคธเคฟเคฐเคฆเคฐเฅเคฆ' },
  'symptom.bloating': { en: 'Bloating', ml: 'เดตเตเตผเดชเตเดชเต', hi: 'เคธเฅเคเคจ' },
  'symptom.backPain': { en: 'Back pain', ml: 'เดฎเตเดคเตเดเตเดตเตเดฆเดจ', hi: 'เคเคฎเคฐ เคฆเคฐเฅเคฆ' },
  'symptom.breastTenderness': { en: 'Breast tenderness', ml: 'เดฌเตเดฐเตเดธเตเดฑเตเดฑเต เดเตเตปเดกเตผเดจเตเดธเต', hi: 'เคธเฅเคคเคจ เคฎเฅเค เคฆเคฐเฅเคฆ' },
  'symptom.fatigue': { en: 'Fatigue', ml: 'เดเตเดทเตเดฃเด', hi: 'เคฅเคเคพเคจ' },
  'symptom.nausea': { en: 'Nausea', ml: 'เดเดเตเดเดพเดจเด', hi: 'เคฎเคคเคฒเฅ' },
  'symptom.acne': { en: 'Acne', ml: 'เดฎเตเดเดเตเดเตเดฐเต', hi: 'เคฎเฅเคเคนเคพเคธเฅ' },
  'symptom.cravings': { en: 'Cravings', ml: 'เดเตเดฐเตเดตเดฟเดเดเตเดธเต', hi: 'เคเคพเคจเฅ เคเฅ เคเคเฅเคเคพ' },
  'symptom.insomnia': { en: 'Insomnia', ml: 'เดเดฑเดเตเดเดฎเดฟเดฒเตเดฒเดพเดฏเตเดฎ', hi: 'เคจเฅเคเคฆ เคจ เคเคจเคพ' },
  'symptom.hotFlashes': { en: 'Hot flashes', ml: 'เดนเตเดเตเดเต เดซเตเดฒเดพเดทเดธเต', hi: 'เคเคฐเฅเคฎ เคฒเคนเคฐเฅเค' },
  'symptom.moodSwings': { en: 'Mood swings', ml: 'เดฎเตเดกเต เดธเตเดตเดฟเดเตเดเตเดธเต', hi: 'เคฎเฅเคก เคธเฅเคตเคฟเคเค' },

  // Moods
  'mood.happy': { en: '๐ Happy', ml: '๐ เดธเดจเตเดคเตเดทเด', hi: '๐ เคเฅเคถ' },
  'mood.calm': { en: '๐ Calm', ml: '๐ เดถเดพเดจเตเดคเด', hi: '๐ เคถเคพเคเคค' },
  'mood.sad': { en: '๐ข Sad', ml: '๐ข เดธเดเตเดเดเด', hi: '๐ข เคฆเฅเคเฅ' },
  'mood.irritable': { en: '๐ค Irritable', ml: '๐ค เดฆเตเดทเตเดฏเด', hi: '๐ค เคเคฟเคกเคผเคเคฟเคกเคผเคพ' },
  'mood.anxious': { en: '๐ฐ Anxious', ml: '๐ฐ เดเดถเดเตเด', hi: '๐ฐ เคเคฟเคเคคเคฟเคค' },
  'mood.tired': { en: '๐ด Tired', ml: '๐ด เดเตเดทเตเดฃเด', hi: '๐ด เคฅเคเคพ เคนเฅเค' },
  'mood.loving': { en: '๐ฅฐ Loving', ml: '๐ฅฐ เดธเตเดจเตเดนเด', hi: '๐ฅฐ เคชเฅเคฏเคพเคฐ เคญเคฐเคพ' },
  'mood.low': { en: '๐ Low', ml: '๐ เดคเดพเดดเตเดจเตเดจ', hi: '๐ เคเคฆเคพเคธ' },
  'mood.grateful': { en: '๐ค Grateful', ml: '๐ค เดจเดจเตเดฆเดฟ', hi: '๐ค เคเคญเคพเคฐเฅ' },
  'mood.overwhelmed': { en: '๐ต Overwhelmed', ml: '๐ต เดเดฎเดฟเดคเดญเดพเดฐเด', hi: '๐ต เคญเคพเคฐเฅ' },
} as const;

type TranslationKey = keyof typeof translations;

const STORAGE_KEY = 'mindphase-language';

export function useTranslation() {
  const [language, setLanguageState] = useState<Language>(() => {
    if (typeof window !== 'undefined') {
      return (localStorage.getItem(STORAGE_KEY) as Language) || 'en';
    }
    return 'en';
  });

  const setLanguage = useCallback((lang: Language) => {
    setLanguageState(lang);
    localStorage.setItem(STORAGE_KEY, lang);
  }, []);

  const t = useCallback((key: string, params?: Record<string, string | number>): string => {
    const translationEntry = translations[key as TranslationKey];
    const translation = translationEntry?.[language] || translationEntry?.['en'] || key;
    
    if (!params) return translation;
    
    let result = translation as string;
    Object.entries(params).forEach(([paramKey, value]) => {
      result = result.replace(`{${paramKey}}`, String(value));
    });
    return result;
  }, [language]);

  return { t, language, setLanguage };
}

export { translations };
export type { TranslationKey };
